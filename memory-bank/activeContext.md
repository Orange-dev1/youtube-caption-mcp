# アクティブコンテキスト

## 現在の作業フォーカス
YouTube字幕MCPサーバーの基本実装が完了。YouTubeクライアントの型エラー修正とテストが残っている。

## 直近の変更
- MCPサーバーの基本実装完了
- エントリーポイント作成
- README作成
- ビルド成功確認

## 次のステップ
1. **YouTubeクライアントの修正**
   - youtubei.jsライブラリのAPI変更への対応
   - 型エラーの修正
   - 実際のYouTube動画での動作テスト

2. **テストの実装**
   - 単体テストの作成
   - 統合テストの実装
   - エラーケースのテスト

3. **Claude Desktop統合テスト**
   - 実際のClaude Desktopでの動作確認
   - MCPプロトコルの動作検証

4. **パッケージ化**
   - NPMパッケージとしての公開準備
   - ドキュメントの最終確認

## アクティブな決定事項
- **言語**: TypeScript 5.0+使用
- **モジュール**: ES Modules形式
- **YouTube API**: youtubei-js使用（APIキー不要）
- **検証**: Zodライブラリ使用
- **キャッシュ**: node-cache使用
- **テスト**: Vitest使用

## 技術的考慮事項
- MCPプロトコル仕様への準拠が必須
- YouTube利用規約の遵守
- エラーハンドリングの充実
- パフォーマンスとキャッシュ戦略

## 開発優先順位
1. **高**: 基本的な動画情報取得機能
2. **高**: 字幕一覧取得機能
3. **高**: 字幕ダウンロード機能（Raw形式）
4. **中**: SRT/VTT形式変換
5. **中**: 検索機能
6. **低**: 高度なキャッシュ機能
7. **低**: パフォーマンス最適化

## 現在の課題
- youtubei.jsライブラリのAPI変更により型エラーが発生
- YouTubeクライアントの実装調整が必要
- 実際のYouTube動画での動作テストが未実施

## 品質目標
- 型安全性の確保
- 包括的なエラーハンドリング
- 適切なテストカバレッジ
- 明確なドキュメント
